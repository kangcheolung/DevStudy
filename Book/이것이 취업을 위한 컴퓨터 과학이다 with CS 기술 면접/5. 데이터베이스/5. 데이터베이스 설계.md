# 데이터베이스 설계

# ER 다이어그램(ERD)

ERD는 데이터베이스에 저장되는 엔터티의 구조를 모델링하는 것을 목적으로 합니다. 

ERD를 활용해 데이터베이스의 구조를 명확하게 정의해두면 추후에 데이터베이스를 확장하거나 수정할 때 어떤 부분이 영향을 받는지 쉽게 파악할 수 있어, 유지보수가 용이하고 개발자 간 원활한 소통이 가능하기 때문입니다. 

## ERD 표기 방법

### 피터 첸 표기법

피터 첸 표기법은 엔터티를 개념적으로 모델링하는 데는 유용하지만, 엔터티가 많아질 경우 그림이 다소 복잡해지고 RDBMS 상에서 어떻게 테이블의 형태로 표현되는지 한 눈에 파악하기 어려울 수 있습니다. 

### IE 표기법

IE표기법은 기본적으로 상단 사각형에 테이블 이름을 쓰고, 사각형 내부에는 속성(필드) 이름을 씁니다. 필드 타입을 함께 명시하고, 기본 키를 특별히 밑줄 또는 PK라고 표기하기도 합니다. 외래 키는 따로 FK라고 표기하는 경우도 있습니다. 

---

# 정규화

정규화란 잠재적인 문제가 발생하지 않도록 테이블의 필드를 구성하고, 필요한 경우 테이블을 나누는 작업입니다. 정규화의 종류에는 제1, 2, 3 정규형과 보이스/코드 정규형, 4,5 정규형이 있는데 대부분의 경우 1,2,3 정규형과 보이스/코드 정규형까지만 다룹니다. 

### 제1 정규형

제 1정규형을 만족하는 필요충분조건은 모든 속성이 원자 값을 가진다는 것입니다. 

### 제2 정규형

제2 정규형이란 제1 정규형을 만족함과 동시에, 기본 키가 아닌 모든 필드들이 모든 기본 키에 완전히 종속될 것이라는 필요충분조건을 만족하는 상태를 의미합니다. 

이때 기본 키가 아니 필드가 기본 키의 일부에 종속되어 있는 경우 부분 함수 종속성이 있다고 표현하고, 기본 키 전체에 완전하게 종속되어 있는 경우 완전 함수 종속성이 있다고 표현합니다. 

즉, 제2 정규형은 부분함수 종석성이 없는 상태, 후보 키에 속하지 않는 모든 필드가 기본 키에 완전 함수 종속인 상태라고 할 수 있습니다. 

### 제3 정규형

제3 정규형은 제2 정규형을 만족하면서, 기본 키가 아닌 모든 필드가 기본 키에 이행적 종속성이 없는 상태를 의미합니다. 

### 보이스/코드 정규형(이하 BCNF)

보이스/코드 정규형은 제3 정규형을 만족하는 동시에 모든 결정자가 후보 키여야하는 조건입니다.