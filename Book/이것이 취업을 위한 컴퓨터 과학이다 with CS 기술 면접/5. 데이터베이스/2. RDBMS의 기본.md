# RDBMS의 기본

# 테이블의 구성: 필드와 레코드

RDBMS 내의 레코드들은 테이블의 형태를 이룹니다. 이때 각 필드로 사용 가능한 데이터 유형이 정해져 있는데 이를 **필드 타입**이라고 합니다. 그리고 테이블 내의 특정 레코드를 식별할 수 있는 필드의 집합은 키라고 합니다. 

## 필드 타입

RDBMS의 테이블 필드에는 다양한 데이터 형식, 즉 필드 타입이 저장될 수 있습니다. 구체적인 필드 타입의 종류는 RDBMS마다 조금씩 차이가 있지만, 큰 틀에서 보면 크게 다르지 않습니다. 

## 키

테이블의 레코드를 식별할 수 있는 하나 이상의 필드를 키라고 합니다. 키는 테이블의 각 레코드를 식별하는 용도로 사용되기도 하지만, 테이블 간의 참조를 위해 사용되기도 하고 테이블의 접근 속도를 높이기 위해 사용되기도 합니다. 

### 후보 키

후보 키는 테이블의 한 레코드를 식별하기 위한 필드의 최소 잡합을 의미합니다. 후보 키는 하나 이상의 필드로 구성될 수 있으며, 후보 키에 포함된 필드 중 하나라도 생략하면 레코드를 식별할 수 없게 됩니다. 이때 불필요한 필드가 키에 포함되어 있지 않고, 최소한의 정보로 레코드를 식별한다는 점에서 ‘최소성을 갖추었다’고도 표현합니다.  **즉, 후보키는 유일성과 최소성을 모두 만족하는 키입니다.** 

### 복합 키

두 필드 이상으로 구성된 후보 키를 복합 키라고 합니다.

### 기본 키

기본 키는 한 레코드를 식별하도록 선정되어 테이블당 하나만 존재할 수 있는 키를 말합니다. 여러 후보 키 중에서 테이블의 레코드를 대표하도록 선택된 키입니다. 후보 키의 일부이기에 유일성과 최소성을 모두 만족하며, 여러 필드들로 구성된 기본 키도 존재할 수 있습니다. 기본 키는 중복된 값이 없어야 하고 반드시 값이 존재해야 하며, 레코드를 구분하기 위한 최소한의 정보만 이루어져 있어야 합니다. 또한 기본 키는 NULL 값을 가질 수 없습니다. 

### 외래 키

외래 키는 다른 테이블의 기본 키를 참조하는 필드로, 테이블 간의 참조 관계를 형성할 때 사용하는 키압니다. 

# 테이블의 관계

외래 키를 매개로 하는 테이블 간 연관관계에도 여러 종류가 있는데, 대표적으로 일대일, 일대다, 다대다 대응관계로 나눌 수 있습니다. 

- 일대일 대응 관계:  하나의 레코드가 다른 테이블의 하나에만 대응되는 경우를 의미합니다.
- 일대다 대응 관계: 하나의 레코드가 다른 테이블의 여러 레코드와 대응될 수 있는 경우를 의미합니다.
- 다대다 대응 관계: 한 테이블의 여러 레코드가 다른 테이블의 여러 레코드와 대응되는 경우를 의미합니다.

# 무결성 제약 조건

무결성이란 일관되며 유효한 데이터의 상태를 말합니다. 즉, 무결성 제약 조건이란 데이터베이스에 저장된 데이터의 일관성과 유효성을 유지하기 위해 마땅히 지켜야 하는 조건을 의미합니다. 

## 도메인 제약 조건

도메인 제약 조건은 테이블이 가질 수 있는 필드 타입과 범위에 대한 규칙입니다. 각각의 필드 데이터는 원자 값을 가져야하고, 지정된 필드 타입을 준수해야하며, 값의 범위나 기본값이 지정되었을 경우 그를 따라야 합니다.또한 NULL이 허용되지 않았다면 NULL이 저장되어서는 안 됩니다. 

## 키 제약 조건

키 제약 조건은 레코드를 고유하게 식별할 수 있는 키로 지정된 필드에 중복된 값이 존재하서는 안되는 제약 조건입니다. 

## 엔티티 무결성 제약 조건(기본 키 제약 조건)

엔티티 무결성 제약 조건이란 기본 키로 지정한 필드는 고유한 값이어야하며, NULL이 되어서는 안된다는 규칙입니다. 기본 키와 관련한 제약 조건이므로, 기본 키 제약 조건이라고도 부릅니다. 

## 참조 무결성 제약 조건

참조 무결성 제약 조건은 외래 키를 통해 다른 테이블을 참조할 때 데이터의 일관성을 지키기 위한 제약 조건으로, 외래 키는 참조하는 테이블의 기본 키와 같은 값을 갖거나 NULL값을 가져야 한다는 규칙입니다.